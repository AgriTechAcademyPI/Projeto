<!DOCTYPE html>
<html>

<head>

</head>
<link rel='stylesheet' href='https://unpkg.com/emoji.css/dist/emoji.min.css'>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap');

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Poppins', sans-serif;
        font-weight: 700;
    }

    .cards {
        display: flex;
        width: 80%;
        flex-wrap: wrap;
        margin-top: 100px;
    }

    .quadrado1 {
        display: flex;
        flex-direction: row;
        align-items: center;
    }

    .quadrado {
        width: 270px;
        height: 390px;
        border-radius: 35px;
        border: 1px solid #858F89;
        background: #D9D9D9;
        box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);
        margin: 10px;
        display: inline;
    }

    .box {
        width: 140px;
        height: auto;
        float: left;
        transition: .5s linear;
        position: relative;
        display: block;
        overflow: hidden;
        padding: 15px;
        text-align: center;
        margin: 27px 5px;
        background: transparent;
        text-transform: uppercase;
        font-weight: 900;
        font-size: 20px;
    }

    .box:before {
        position: absolute;
        content: '';
        left: 0;
        bottom: 0;
        height: 4px;
        width: 100%;
        border-bottom: 4px solid transparent;
        border-left: 4px solid transparent;
        box-sizing: border-box;
        transform: translateX(100%);
    }

    .box:after {
        position: absolute;
        content: '';
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        border-top: 4px solid transparent;
        border-right: 4px solid transparent;
        box-sizing: border-box;
        transform: translateX(-100%);
    }

    .box:hover {
        box-shadow: 0 5px 15px rgba(255, 255, 255, 0);
    }

    .box:hover:before {
        border-color: rgb(255, 165, 0);
        height: 100%;
        transform: translateX(0);
        transition: .3s transform linear, .3s height linear .3s;
    }

    .box:hover:after {
        border-color: rgb(255, 165, 0);
        height: 100%;
        transform: translateX(0);
        transition: .3s transform linear, .3s height linear .5s;
    }

    button {
        color: white;
        text-decoration: none;
        cursor: pointer;
        outline: none;
        border: none;
        background: transparent;
    }


    .image {
        width: 200px;
        height: 134px;
    }

    .imageDentro {
        width: 270px;
        height: 160px;
        flex-shrink: 0;
        border-radius: 35px;
    }

    .text {
        display: flex;
        flex-direction: column;
        color: #000;
        text-align: center;
        font-size: 15px;
        padding: 0px 10px 0px 10px;
    }


    .container {
        display: flex;
        width: 100vw;
        justify-content: center;
        flex-direction: column;
        align-items: center;
    }

    .title {
        color: #539B2D;
        font-size: 30px;
        margin-top: 4rem;
    }

    .titulo {
        color: #539B2D;
        font-size: 22px;
        margin-top: 25px;
        text-align: center;
        padding: 0px 5px 0px 5px;
    }

    .botaoVerMais {
        background-color: orange;
        border: #539B2D solid;
        border-radius: 15px;
        width: 100px;
        margin-top: 7px;
        margin-left: 20px;

    }

    .botaoVerMais:hover {
        background-color: rgb(197, 131, 9);
    }

    .textoBotao {
        text-decoration: none;
        color: white;
        font-weight: 600;

    }

    .preco {
        display: inline;
        text-decoration: none;
        font-weight: 600;
        font-size: 14px;
        margin-top: 10px;
        margin-left: 20px;
    }

    .inline {
        display: flex;
        margin-top: 8px;
    }

    .header {
        display: flex;
        background-color: rgb(140, 211, 33);
        height: 120px;
    }

    .navbar {
        display: inline;
        margin-left: 100px;
        margin-top: 40px;
    }

    .navbar a {
        text-decoration: none;
        color: rgb(255, 255, 255);
        padding-right: 50px;
        font-size: 22px;


    }

    .navbar a:hover {
        text-decoration: none;
        color: orange;
        padding-right: 50px;
        font-size: 22px;

    }

    .loginUser {
        margin-left: 400px;
        margin-top: -20px;

    }

    .login {
        margin-left: 300px;
    }

    .filtro {
        display: flex;
        justify-content: center;
        margin-top: 20px;

    }

    .dentroFiltro h2,
    select {
        display: inline;
        text-align: center;
    }

    .dentroFiltro h2 {
        color: orange;
    }

    .dentroFiltro select {
        color: green;
        border-color: orange;
    }

    .lupa {
        width: 35px;
        height: 35px;
        vertical-align: middle;
    }
</style>

<body>

    <header class="header"> 

        <nav class="navbar">
            <a href="/">Home</a>
            <a href="/cadastro/instrutor">Tornar-se Instrutor</a>
            <a href="/cadastro/curso">Cadastrar Curso</a>
            <%if(sessao==1){%>
            <a href="/curso/meuscursos">Meus Cursos</a>

            <%}%>


        </nav>
        <%if(sessao==1){%>

            <div class="loginUser">
                <a href="/login"><button><span class="box">
                            <span class="ec ec-white-check-mark"></span>
                            <%= usuario.nomeUsuario %>
                        </span></button></a>
            </div>

            <%}else{%>
                <div class="login">
                    <a href="/login"><button><span class="box">Login</span></button></a>
                    <a href="/cadastro"><button><span class="box">Cadastro</span></button></a>
                </div>

                <%}%>

    </header>

    <form action="/filtrarCursos" method="POST">
        <div class="filtro">
            <div class="dentroFiltro">
                <h2>Filtro:</h2>
                <select name="categorias" class="form-control">
                    <% categorias.forEach((categoria)=> { %>
                        <option name="categoria" value="<%= categoria.title %>">
                            <%= categoria.title %>
                        </option>
                        <% }) %>

                </select>
                <button type="submit"><img class="lupa" src="../img/lupa.png" alt="lupa"></button>

            </div>
        </div>
    </form>


    <div class="container">
        <h1 class="title">Cursos Disponíveis</h1>

        <div class="cards">

            <%cursos.forEach(curso=> {%>
                <div class="quadrado1">
                    <div class="quadrado">
                        <div class="image">
                            <img class="imageDentro" src="<%=curso.imagemCurso%>" alt="">
                        </div>
                        <h1 class="titulo">
                            <%=curso.titulo%>
                        </h1>
                        <p class="text">
                            <%= curso.descricao %>
                        </p>
                        <div class="inline">
                            <h2 class="preco">Preço: <%=curso.preco%>R$</h2>
                            <button class="botaoVerMais"><a href="/assistir/curso/<%=curso.titulo%>"
                                    class="textoBotao">Ver Mais</a></button>

                        </div>
                    </div>
                </div>


                <%})%>
        </div>

    </div>


</body>

<script>
    const elements = document.querySelectorAll('.quadrado p')
    const LIMITE = 130

    for (let p of elements) {
        const acimaLimite = p.innerText.length > LIMITE
        const pontosOuVazio = acimaLimite ? '...' : ''
        p.innerText = p.innerText.substring(0, LIMITE) + pontosOuVazio
    }
</script>

</html>